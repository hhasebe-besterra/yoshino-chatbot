# 吉野会長ナレッジボット - 要件・仕様書

## 1. プロジェクト概要

### 1.1 目的
ベステラ株式会社 会長 吉野佳秀の50年以上にわたる経験と知識を、新入社員・中途採用者が対話形式で学べるWebアプリケーションを提供する。

### 1.2 背景
- 会長の豊富な知識・経験を社内に継承する必要性
- ナレッジマネジメントの一環として講演内容をデジタル化
- 社員がいつでも質問できる環境の構築

---

## 2. システム構成

### 2.1 アーキテクチャ

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   ユーザー      │────▶│  Streamlit Cloud │────▶│  Anthropic API  │
│  (Webブラウザ)  │◀────│    (ホスティング) │◀────│   (Claude)      │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                                │
                                ▼
                        ┌─────────────────┐
                        │    GitHub       │
                        │  (ソースコード)  │
                        └─────────────────┘
```

### 2.2 技術スタック

| 項目 | 技術 |
|------|------|
| フロントエンド | Streamlit |
| バックエンド | Python 3.8+ |
| AI/LLM | Anthropic Claude (claude-sonnet-4-20250514) |
| ホスティング | Streamlit Community Cloud |
| バージョン管理 | GitHub |

### 2.3 依存パッケージ

```
streamlit>=1.28.0
anthropic>=0.18.0
```

---

## 3. 機能要件

### 3.1 チャット機能

| 機能 | 説明 |
|------|------|
| 質問入力 | ユーザーが自由にテキストで質問を入力 |
| 回答生成 | Claude APIを使用してナレッジベースに基づく回答を生成 |
| 会話履歴 | セッション中の会話履歴を保持・表示 |
| サンプル質問 | サイドバーにプリセットの質問ボタンを表示 |

### 3.2 ナレッジベース

| 項目 | 説明 |
|------|------|
| 形式 | Markdownファイル (`yoshino_knowledge_base.md`) |
| 文字起こし | CSVファイル（`文字起こし/`フォルダ） |
| 統合 | 起動時にナレッジベースと文字起こしを結合 |

### 3.3 回答トピック

- 吉野会長の生い立ちと経歴
- ベステラ創業の経緯
- 金属に関する専門知識（比重、価格、合金など）
- 変圧器の解体と銅の見分け方
- プラント解体の技術と経験
- 富士フイルムとコニカの品質管理の違い
- 出光興産での解体工事
- 見積もりの考え方と極意
- 福島原発デブリに関する見解
- 会長の人生哲学と教訓

---

## 4. 非機能要件

### 4.1 パフォーマンス

| 項目 | 要件 |
|------|------|
| 回答生成時間 | 通常5〜15秒（APIレスポンス依存） |
| 同時接続数 | Streamlit Cloud Free Tierの制限に準拠 |

### 4.2 セキュリティ

| 項目 | 実装 |
|------|------|
| APIキー管理 | Streamlit Secrets（環境変数）で管理 |
| APIキー漏洩防止 | `.gitignore`でconfig.envを除外 |
| アクセス制御 | 現状なし（URLを知っている人がアクセス可能） |

### 4.3 可用性

- Streamlit Community Cloudの可用性に依存
- GitHubにソースコードがバックアップされている

---

## 5. UI/UX仕様

### 5.1 デザイン

| 項目 | 仕様 |
|------|------|
| カラースキーム | ベステラコーポレートカラー（赤: #C41E3A） |
| レイアウト | ワイド表示、左サイドバー |
| サイドバー幅 | 400〜450px |

### 5.2 画面構成

```
┌────────────────────────────────────────────────────────┐
│                    ヘッダー                            │
│         🏭 吉野会長ナレッジボット                       │
├──────────────┬─────────────────────────────────────────┤
│              │                                         │
│  サイドバー   │           メインエリア                  │
│              │                                         │
│ ・ロゴ       │  ・ウェルカムメッセージ                  │
│ ・トピック   │  ・チャット履歴                         │
│ ・質問例     │  ・回答表示                             │
│ ・設定       │                                         │
│              │                                         │
├──────────────┴─────────────────────────────────────────┤
│                 チャット入力欄                         │
└────────────────────────────────────────────────────────┘
```

---

## 6. データ仕様

### 6.1 ナレッジベース (`yoshino_knowledge_base.md`)

- 形式: Markdown
- エンコーディング: UTF-8
- 構成:
  1. 会長プロフィール
  2. 講演の主要テーマ
  3. 金属に関する専門知識
  4. ベステラ創業の経緯
  5. プラント解体の技術と経験
  6. 福島原発デブリに関する見解
  7. 名言・教訓
  8. Q&A
  9. 用語集

### 6.2 文字起こしCSV

- 形式: CSV (UTF-8 BOM付き推奨)
- 必須列: `発言内容`
- フィルタリング: 30文字以上の発言のみ抽出
- 制限: 各ファイル最大100発言まで読み込み

---

## 7. システムプロンプト仕様

### 7.1 役割設定
「ベステラ株式会社 会長 吉野佳秀のナレッジを伝える案内役」

### 7.2 回答スタイル
1. 会長の言葉を引用
2. 実体験ベースの回答
3. 専門用語のわかりやすい解説
4. 失敗談から学んだ教訓の共有
5. 親しみやすい表現

### 7.3 制約事項
- ナレッジベースにない情報は「この講演では触れられていませんでした」と回答
- 会長の見解は個人的意見であることを明示

---

## 8. ファイル構成

```
yoshino_chatbot/
├── app.py                      # メインアプリケーション
├── requirements.txt            # 依存パッケージ
├── yoshino_knowledge_base.md   # ナレッジベース
├── README.md                   # プロジェクト説明
├── start.bat                   # ローカル起動用バッチ
├── .gitignore                  # Git除外設定
├── 文字起こし/                  # 講演文字起こしCSV
│   ├── 20260115_133109_第1回録画.csv
│   ├── 20260115_133303_第2回録画.csv
│   └── 20260115_133628_第3回録画.csv
└── docs/                       # ドキュメント
    ├── OPERATION.md            # 運用手順書
    └── SPECIFICATION.md        # 本仕様書
```

---

## 9. 今後の拡張案

### 9.1 短期
- [ ] 第4回以降の講演データ追加
- [ ] 回答の引用元表示機能

### 9.2 中期
- [ ] ユーザー認証機能（社内限定アクセス）
- [ ] 回答のフィードバック機能
- [ ] よくある質問のランキング表示

### 9.3 長期
- [ ] 音声入力対応
- [ ] 多言語対応
- [ ] 他の社員のナレッジ追加

---

## 10. 更新履歴

| 日付 | バージョン | 内容 |
|------|-----------|------|
| 2026-01-19 | 1.0.0 | 初版リリース |

---

*本ドキュメントは、ベステラ株式会社の社内資料として作成されました。*
